<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Wallet DZD - Polygon</title>
</head>
<body>
  <h1>Wallet DZD (Polygon)</h1>

  <!-- PIN setup -->
  <div id="pinSetupBox" style="display:none;">
    <h3>Configurer un PIN et créer un nouveau wallet</h3>
    <input id="pinInput" placeholder="Entrez un PIN (min 4 chiffres)" />
    <button id="setupPinBtn">Créer et enregistrer</button>
    <hr/>
    <h4>Ou restaurer une clé privée</h4>
    <input id="privKeyInput" placeholder="0x..." style="width: 400px;" />
    <button id="restoreBtn">Restaurer</button>
  </div>

  <!-- PIN login -->
  <div id="pinLoginBox" style="display:none;">
    <h3>Entrez votre PIN</h3>
    <input id="pinLoginInput" placeholder="PIN" />
    <button id="loginWithPinBtn" onclick="loginWithPin()">Se connecter</button>
  </div>

  <!-- Main UI -->
  <div id="mainBox" style="display:none;">
    <p>Adresse: <span id="addressValue"></span></p>
    <p>Solde token: <span id="balanceValue">-</span></p>
    <p>Solde natif: <span id="nativeBalance">-</span></p>
    <img id="qrcode" alt="qr" />

    <h3>Envoyer des DZD</h3>
    <input id="sendTo" placeholder="Adresse destinataire" style="width:400px" />
    <input id="sendAmount" placeholder="Montant" style="width:150px" />
    <button id="sendBtn">Envoyer</button>

    <hr/>
    <button id="refreshBalanceBtn">Rafraîchir solde</button>
    <button onclick="wipeWallet()">Supprimer données locales (wipe)</button>
  </div>

  <!-- Import ethers.js (dev quick usage). If you prefer no CDN, replace with a local ethers.js bundle. -->
  <script src="https://cdn.jsdelivr.net/npm/ethers/dist/ethers.min.js"></script>
  <!-- Your wallet logic -->
  <script src="wallet.js"></script>
</body>
</html>

